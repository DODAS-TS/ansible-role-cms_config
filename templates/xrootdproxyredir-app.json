{
    "id": "/xrootdproxy",
    "cmd": "/usr/local/bin/entrypoint redirector -cmsd_redirector_port {{cms_cmsd_cache_redir_port}} -xrd_redirector_port {{cms_xrd_cache_redir_port}} -redirector_global {{cms_redir_global}} -redirector_global_port {{cms_redir_global_port}} -redirector_url {{cms_config_proxycache_host}}",
    "cpus": 2,
    "mem": 2048,
    "disk": 0,
    "instances": 0,
    "constraints": [
      [
        "hostname",
        "UNIQUE"
      ]
    ],
    "container": {
      "type": "DOCKER",
      "volumes": [],
      "docker": {
        "image": "cloudpg/xrootd-proxy",
        "network": "BRIDGE",
        "portMappings": [
          {
            "containerPort": 1094,
            "hostPort": 0,
            "servicePort": 31094,
            "protocol": "tcp",
            "name": "xrd",
            "labels": {}
          },
          {
            "containerPort": 1213,
            "hostPort": 0,
            "servicePort": 31213,
            "protocol": "tcp",
            "name": "cmsd",
            "labels": {}
          }
        ],
        "privileged": false,
        "parameters": [],
        "forcePullImage": true
      }
    },
    "labels": {
      "HAPROXY_GROUP": "external"
    },
    "portDefinitions": [
      {
        "port": 31094,
        "protocol": "tcp",
        "name": "xrd",
        "labels": {}
      },
      {
        "port": 31213,
        "protocol": "tcp",
        "name": "cmsd",
        "labels": {}
      }
    ]
  }